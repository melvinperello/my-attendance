<!DOCTYPE html>
<html lang="en">
  <%- include('./partials/head.ejs',{title:process.env.MA_APP_NAME + " - Register"}) -%>
  <body>
    <%- include('./partials/nav.ejs') -%>
    <main>
      <div class="container mt-3">
        <div class="row justify-content-center">
          <div class="col col-sm-5">
            <div class="card">
              <div class="card-body">
                <!--  -->
                <div class="d-flex justify-content-center flex-column text-center">
                  <span class="text-center"
                    ><span class="fw-bold fst-italic">step 1 - </span> scan using authenticator
                    app</span
                  >
                  <div class="mt-2 alert alert-secondary" role="alert">
                    <span class="fst-italic fs-6">enter manually</span>
                    <div class="fw-bold pt-2"><%= secretString %></div>
                  </div>

                  <img class="img-fluid" src="<%= secretImageString %>" alt="Secured Image" />
                </div>
                <form id="frm_login">
                  <div class="mb-3 d-none">
                    <label for="txt_username" class="form-label">username</label>
                    <input
                      readonly
                      value="<%= username %>"
                      type="text"
                      class="form-control"
                      name="txt_username"
                      id="txt_username"
                      placeholder="username"
                      required
                    />
                  </div>
                  <div class="mb-3">
                    <div class="d-flex justify-content-center text-center">
                      <label for="txt_code" class="form-label"
                        ><span class="fw-bold fst-italic">step 2 - </span>enter the code from the
                        authenticator app.
                      </label>
                    </div>
                    <input
                      type="text"
                      class="form-control"
                      id="txt_code"
                      name="txt_code"
                      aria-describedby="lbl_code"
                      autocomplete="off"
                      required
                    />
                    <div id="lbl_code" class="form-text text-center">
                      Please note that each code expires after a certain time.
                    </div>
                  </div>

                  <div class="d-grid gap-2">
                    <button id="btn_submit" type="submit" class="btn btn-primary">register</button>
                  </div>
                </form>
                <!--  -->
              </div>
            </div>
            <div
              id="msg_not_exists"
              class="alert alert-danger d-flex align-items-center mt-2"
              role="alert"
            >
              <i class="bi bi-exclamation-triangle-fill flex-shrink-0 me-2"></i>
              <div>Your are wrong!</div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <script src="/public/js/pre-register.js"></script>
  </body>
</html>
